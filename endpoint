stage('Get Endpoint') {
    steps {
        script {
            def service = sh(script: "kubectl get svc <service-name> -o json", returnStdout: true)
            def externalIP = sh(script: "echo ${service} | awk -F'[\"|:]' '/hostname/{print $6}'", returnStdout: true).trim()
            echo "Service endpoint: http://${externalIP}"
        }
    }
}


kubectl describe svc  | grep "Load Balancer" | cut -d" " -f2